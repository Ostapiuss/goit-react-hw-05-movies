"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[386],{419:function(t,e,n){n.d(e,{tn:function(){return c},yA:function(){return a}});var r=n(243),a="https://image.tmdb.org/t/p/w500",c={get:function(t,e){return(0,r.Z)({method:"get",url:"".concat("https://api.themoviedb.org/3").concat(t,"?api_key=").concat("17c5a5de30466e42172be6812ea6018f").concat(e||"")})}}},692:function(t,e,n){n.d(e,{Aj:function(){return i},HI:function(){return o},jP:function(){return d},z1:function(){return u},zv:function(){return l}});var r=n(861),a=n(757),c=n.n(a),s=n(419),i=function(){var t=(0,r.Z)(c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.tn.get("/trending/movie/day");case 3:return e=t.sent,n=e.data,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.tn.get("/movie/".concat(e));case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.tn.get("/search/movie","&language=en-US&page=1&include_adult=false&".concat(e));case 3:return n=t.sent,r=n.data.results,t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.tn.get("".concat(e));case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.tn.get("".concat(e));case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},386:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var r=n(861),a=n(439),c=n(757),s=n.n(c),i=n(791),o=n(87),u=n(689),l=n(692),d=n(419),p=n(184),v=function(){var t,e,n,c=(0,i.useState)({}),v=(0,a.Z)(c,2),f=v[0],h=v[1],m=(0,u.WU)("").pathname,x=(0,u.TH)(),w=(0,u.s0)();(0,i.useEffect)((function(){var t=function(t){var e=t.split("/"),n=null;return e.forEach((function(t){parseInt(t)&&(n=t)})),n}(m),e=function(){var e=(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.HI)(t);case 2:n=e.sent,h(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().finally()}),[m]);return(0,p.jsxs)("div",{className:"movieDetails",children:[(0,p.jsx)("button",{type:"button",onClick:function(){var t,e,n;w(null!==(t=null===x||void 0===x||null===(e=x.state)||void 0===e||null===(n=e.from)||void 0===n?void 0:n.location)&&void 0!==t?t:"/")},children:"Go Back"}),(0,p.jsxs)("div",{className:"movieDetails__poster poster",children:[(0,p.jsx)("img",{src:"".concat((null===f||void 0===f?void 0:f.poster_path)&&d.yA,"/").concat(null===f||void 0===f?void 0:f.poster_path),className:"poster-img",alt:"poster"}),(0,p.jsxs)("div",{className:"poster-info",children:[(0,p.jsxs)("h3",{className:"poster-title",children:[f.title," (",null===(t=f.release_date)||void 0===t?void 0:t.slice(0,null===(e=f.release_date)||void 0===e?void 0:e.indexOf("-")),")"]}),(0,p.jsxs)("p",{children:["Use score: ",Math.round(f.popularity),"%"]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h4",{className:"subtitle",children:"Overview"}),(0,p.jsx)("p",{children:f.overview}),(0,p.jsx)("h5",{children:"Generes"}),(0,p.jsx)("div",{className:"generes",children:null===(n=f.genres)||void 0===n?void 0:n.map((function(t){return(0,p.jsx)("p",{className:"genre",children:t.name},t.id)}))})]})]})]}),(0,p.jsx)("hr",{}),(0,p.jsxs)("div",{className:"movieDetails__additional-info additional-info",children:[(0,p.jsx)(o.OL,{to:"".concat(m,"/cast"),state:x.state,children:(0,p.jsx)("button",{className:"additional-info-btn",children:"Cast"})}),(0,p.jsx)(o.OL,{to:"".concat(m,"/reviews"),state:x.state,children:(0,p.jsx)("button",{className:"additional-info-btn",children:"Review"})})]}),(0,p.jsx)("div",{className:"main-info",children:(0,p.jsx)(u.j3,{context:[f]})})]})}}}]);
//# sourceMappingURL=386.0d8c70d8.chunk.js.map